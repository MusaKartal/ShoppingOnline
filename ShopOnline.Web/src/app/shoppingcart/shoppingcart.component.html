<div class="container">
  <h1 class="my-4">Shopping Cart</h1>
  <table class="table">
    <thead>
      <tr>
        <th>Product</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Total</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let shoppingCart of shoppingCarts">
        <td>
          <img [src]="'assets/' + shoppingCart.productImageURL" [alt]="shoppingCart.productName" class="product-image" width="100" height="100">
          <span>{{ shoppingCart.productName }}</span>
        </td>
        <td>${{ shoppingCart.price }}</td>
        <td>
          <form #cartUpdateForm="ngForm" (ngSubmit)="CartPatch(shoppingCart.id, cartUpdateForm)">
            <input type="number" [placeholder]="shoppingCart.qty" [(ngModel)]="model.qty" name="quantity" min="1" [value]="shoppingCart.qty"  class="form-control" required>
            <button type="submit" class="btn btn-sm btn-primary">Update</button>
          </form>
        </td>
        <td>${{ shoppingCart.totalPrice }}</td>
        <td>
          <button class="btn btn-sm btn-danger remove-product" (click)="CartRemove(shoppingCart.id)">Remove</button>
        </td>
      </tr>    
    </tbody>
    <tfoot>
      <tr>
        <td colspan="4" class="text-right">Total</td>
        <td>${{ calculateTotalPrice() }}</td>
      </tr>
    </tfoot>
  </table>
  <div class="text-right">
    <button  routerLink="/product" class="btn btn-primary mr-2">Continue Shopping</button>
    <button routerLink="/payment" class="btn btn-success">Buy</button>
  </div>
</div>
